路由:
确定设备如何在不同网络之间相互传输的过程，也即通过互联的网络把信息从源地址传输到目的地址的活动被称之为路由
通常用于执行路由活动的设备被称为路由器
通过使用路由表，路由器则规划网络包到各自目的地的线路

route print 或 netstat -r 显示本地计算机上的路由表

我们报文通过路由器转发之后就会通过这些接口列表转发出去

路由表中的每一个路由项具有五个属性，在此我将它们分为四个部分:
Network Destination     Netmask     Gateway     Interface       Metric

1、网络地址（Network Destination）、网络掩码（Netmask）：网络地址和网络掩码相与的结果用于定义本地计算机可以到达的网络目的地址范围。
通常情况下，网络目的地址范围包含以下四种：
网络地址（Network Destination）、网络掩码（Netmask）
主机地址；某个特定主机的网络地址，网络掩码为255.255.255.255
192.168.1.6 255.255.255.255
子网地址，某个特定子网的网络地址
192.168.1.240 255.255.255.240
网络地址；某个特定网络的网络地址
127.0.0.0 255.0.0.0
192.168.1.240 255.255.255.0
224.0.0.0 224.0.0.0
默认路由；所有未在路由表中指定的网络地址 。网络地址（Network Destination）、网络掩码（Netmask）都为0.0.0.0


2、网关（Gateway，又称为下一跳服务器）：
在发送IP数据包时，网关定义了针对特定的网络目的地址，数据包发送到的下一跳服务器。
如果是本地计算机直接连接到的网络，网关通常是本地计算机对应的网络接口，但是此时接口必须和网关一致；
如果是远程网络或默认路由，网关通常是本地计算机所连接到的网络上的某个服务器或路由器。

3、接口（Interface）：
接口定义了针对特定的网络目的地址，本地计算机用于发送数据包的网络接口。
网关必须位于和接口相同的子网（默认网关除外），否则造成在使用此路由项时需调用其他路由项，从而可能会导致路由死锁。

4、跃点数（Metric）：
跃点数用于指出路由的成本，通常情况下代表到达目标地址所需要经过的跃点数量，一个跃点代表经过一个路由器。
跃点数越低，代表路由成本越低；
跃点数越高，代表路由成本越高。
当具有多条到达相同目的网络的路由项时，TCP/IP会选择具有更低跃点数的路由项。

interface 到达该目的地的本路由器的出口ip 
gateway 下一跳路由器入口的ip，
路由器通过interface和gateway定义一调到下一个路由器的链路
通常情况下，interface和gateway是同一网段的

localhost、127.0.0.1 和 本机IP之间的区别：
1、localhost等于127.0.0.1，不过localhost是域名，127.0.0.1是IP地址。
2、localhost和127.0.0.1不需要联网，都是本机访问(基于本地作用)。
3、本机IP需要联网，本机IP是本机或外部访问， 本机 IP 就是本机对外放开访问的IP地址，这个网址就是与物理网卡绑定的IP地址

路由工作在TCP/IP四层协议栈的网络层，通过转发分组实现网络互连，并连接两个IP子网。是指分组从源端到目的端时路径的进程。在我国，路由一般支持TCP/IP协议。
路由器根据网络层的地址和路由器内部维护的路由表决定下一跳地址，分组到达路由时，更改链路层MAC帧的报头继续转发。

待转发的数据报怎么找到下一跳的路由器？
当路由器收到一个带转发的数据报，在从路由表得出下一跳路由器的IP地址后，不是把这个地址填入IP数据报，而交送数据链路层的网络接口软件。
网络接口把下一跳的路由器的IP地址转换成硬件地址（arp），并将此硬件地址放在链路层的MAC帧的首部，然后根据这个硬件地址找到下一跳路由器。
（所以路由是三层协议栈，为了转发IP数据报）

路由与桥接的关键区别点在于路由发生在网络层，桥接发生在链路层。

路由转发过程：先确定最短路径，然后再通过所选路径上的网络传输数据。

一个分组到达路由器之后，先于本地路由表中的对应的子网掩码做按位与运算，然后再在本地的路由表中查询，
如果与本地IP相同，则已经到达目的端，由当前路由解析数据；
如果计算出不是本地IP地址，则此IP为下一跳的路由IP，继续进行路由转发；
若在当前路由器中查询不到下一跳地址，即转向默认的下一跳IP


============================解读
Network Destination Netmask Gateway Interface Metric 
0.0.0.0 0.0.0.0 192.168.123.254 192.168.123.88 1 
0.0.0.0 0.0.0.0 192.168.123.254 192.168.123.68 1 
127.0.0.0 255.0.0.0 127.0.0.1 127.0.0.1 1 
192.168.123.0 255.255.255.0 192.168.123.68 192.168.123.68 1 
192.168.123.0 255.255.255.0 192.168.123.88 192.168.123.88 1 
192.168.123.68 255.255.255.255 127.0.0.1 127.0.0.1 1 
192.168.123.88 255.255.255.255 127.0.0.1 127.0.0.1 1 
192.168.123.255 255.255.255.255 192.168.123.68 192.168.123.68 1 
192.168.123.255 255.255.255.255 192.168.123.88 192.168.123.88 1 
224.0.0.0 224.0.0.0 192.168.123.68 192.168.123.68 1 
224.0.0.0 224.0.0.0 192.168.123.88 192.168.123.88 1 
255.255.255.255 255.255.255.255 192.168.123.68 192.168.123.68 1 
Default Gateway: 192.168.123.254


第一条 
缺省路由：意思就是说，当一个数据包的目的网段不在你的路由记录中，那么，你的路由器该把那个数据包发送到哪里！缺省路由的网关是由你的连接上的default gateway决定的 
该路由记录的意思是：当我接收到一个数据包的目的网段不在我的路由记录中，我会将该数据包通过192.168.123.88这个接口发送到192.168.123.254这个地址，这个地址是下一个路由器的一个接口，这样这个数据包就可以交付给下一个路由器处理，与我无关。该路由记录的线路质量 1 

第二条 
缺省路由： 
该路由记录的意思是：当我接收到一个数据包的目的网段不在我的路由记录中，我会将该数据包通过192.168.123.68这个接口发送到192.168.123.254这个地址，这个地址是下一个路由器的一个接口，这样这个数据包就可以交付给下一个路由器处理，与我无关。该路由记录的线路质量 1 

第三条 
本地环路：127.0.0.0这个网段内所有地址都指向自己机器

第四条 
直联网段的路由记录：当路由器收到发往直联网段的数据包时该如何处理，这种情况，路由记录的interface和gateway是同一个。 
当我接收到一个数据包的目的网段是192.168.123.0时，我会将该数据包通过192.168.123.68这个接口直接发送出去，因为这个端口直接连接着192.168.123.0这个网段，该路由记录的线路质量 1 

第五条 
直联网段的路由记录 
当我接收到一个数据包的目的网段是192.168.123.0时，我会将该数据包通过192.168.123.88这个接口直接发送出去，因为这个端口直接连接着192.168.123.0这个网段，该路由记录的线路质量 1 

